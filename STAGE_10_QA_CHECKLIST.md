# ✅ Stage 10 - QA Checklist: Admin Dashboard

## 🎯 מטרה
בדיקות ידניות מקיפות לוודא שכל פונקציות ה-Admin Dashboard עובדות כראוי.

---

## 🔐 Pre-Test Setup

### הכנה:
1. ✅ השרת רץ: `npm run dev`
2. ✅ יש משתמש admin: `admin@vipo.local` / `12345678A`
3. ✅ התחבר כ-admin: http://localhost:3001/login
4. ✅ פתח DevTools (F12) לבדיקת שגיאות

---

## 📋 Test Cases

### 1. Authorization & Access Control

#### 1.1 - גישה כ-Admin ✅
**צעדים:**
1. התחבר כ-admin
2. גלוש ל: http://localhost:3001/admin

**תוצאה צפויה:**
- [ ] Dashboard נטען בהצלחה
- [ ] Sidebar מוצג
- [ ] KPI cards מוצגים
- [ ] אין שגיאות בקונסול

---

#### 1.2 - חסימת גישה לא-Admin ✅
**צעדים:**
1. התנתק (או פתח incognito)
2. התחבר כ-customer/agent
3. נסה לגשת ל: http://localhost:3001/admin

**תוצאה צפויה:**
- [ ] מופנה אוטומטית ל-`/login`
- [ ] לא רואה את ה-Dashboard

---

#### 1.3 - גישה ללא התחברות ✅
**צעדים:**
1. התנתק לחלוטין
2. נסה לגשת ל: http://localhost:3001/admin

**תוצאה צפויה:**
- [ ] מופנה אוטומטית ל-`/login`

---

### 2. Dashboard (/)

#### 2.1 - KPI Cards ✅
**צעדים:**
1. גלוש ל: http://localhost:3001/admin

**בדוק:**
- [ ] 6 כרטיסי KPI מוצגים
- [ ] כל כרטיס מכיל: כותרת, ערך, אייקון
- [ ] Grid רספונסיבי (נסה לשנות גודל חלון)

---

#### 2.2 - Quick Actions ✅
**צעדים:**
1. לחץ על כל אחד מ-4 הכפתורים

**בדוק:**
- [ ] "הוסף סוכן" → מוביל ל-`/admin/agents`
- [ ] "הוסף מוצר" → מוביל ל-`/admin/products`
- [ ] "צפה בהזמנות" → מוביל ל-`/admin/orders`
- [ ] "הגדרות" → מוביל ל-`/admin/settings`

---

### 3. Sidebar Navigation

#### 3.1 - קישורי ניווט ✅
**צעדים:**
1. לחץ על כל קישור ב-Sidebar

**בדוק:**
- [ ] Dashboard → `/admin`
- [ ] סוכנים → `/admin/agents`
- [ ] משתמשים → `/admin/users`
- [ ] מוצרים → `/admin/products`
- [ ] הזמנות → `/admin/orders`
- [ ] הגדרות → `/admin/settings`
- [ ] כל העמודים נטענים ללא 404

---

#### 3.2 - פרטי משתמש ✅
**בדוק:**
- [ ] שם המשתמש מוצג
- [ ] תפקיד (role) מוצג
- [ ] כפתור "התנתק" עובד

---

### 4. Agents Screen (/admin/agents)

#### 4.1 - רשימת סוכנים ✅
**בדוק:**
- [ ] טבלה מוצגת
- [ ] עמודות: שם, אימייל, טלפון, סטטוס, תאריך, פעולות
- [ ] מספר סוכנים נכון

---

#### 4.2 - הוספת סוכן ✅
**צעדים:**
1. לחץ "הוסף סוכן"
2. מלא: שם, אימייל, טלפון, סיסמה
3. לחץ "הוסף"

**בדוק:**
- [ ] Modal נפתח
- [ ] טופס עם כל השדות
- [ ] ולידציה עובדת (נסה לשלוח ריק)
- [ ] אחרי שמירה: Modal נסגר
- [ ] הסוכן מופיע ברשימה
- [ ] הודעת הצלחה (אם יש)

---

#### 4.3 - עריכת סוכן ✅
**צעדים:**
1. לחץ "ערוך" על סוכן קיים
2. שנה שם
3. לחץ "עדכן"

**בדוק:**
- [ ] Modal נפתח עם נתונים קיימים
- [ ] שדה סיסמה ריק (אבל לא חובה)
- [ ] עדכון מצליח
- [ ] השינוי מתעדכן ברשימה

---

### 5. Users Screen (/admin/users)

#### 5.1 - רשימת משתמשים ✅
**בדוק:**
- [ ] טבלה מוצגת
- [ ] עמודות: שם, אימייל, טלפון, תפקיד, סטטוס, תאריך, פעולות
- [ ] המשתמש הנוכחי מסומן (רקע כחול)

---

#### 5.2 - שינוי תפקיד ✅
**צעדים:**
1. בחר משתמש (לא אתה)
2. שנה תפקיד ב-dropdown
3. המתן לעדכון

**בדוק:**
- [ ] Dropdown עובד
- [ ] עדכון מתבצע מיידית
- [ ] Badge התפקיד משתנה

---

#### 5.3 - הגנות ✅
**נסה:**
1. לשנות את התפקיד של עצמך

**בדוק:**
- [ ] Dropdown מושבת (disabled)
- [ ] הודעת שגיאה אם מנסה

2. להוריד את המנהל האחרון

**בדוק:**
- [ ] הודעת שגיאה: "לא ניתן להוריד את המנהל האחרון"

---

### 6. Products Screen (/admin/products)

#### 6.1 - רשימת מוצרים ✅
**בדוק:**
- [ ] Grid של מוצרים
- [ ] כל מוצר: תמונה, שם, תיאור, מחיר, קטגוריה
- [ ] כפתורים: ערוך, מחק

---

#### 6.2 - הוספת מוצר ✅
**צעדים:**
1. לחץ "הוסף מוצר"
2. מלא: שם, תיאור, מחיר, קטגוריה
3. העלה תמונה (אופציונלי)
4. לחץ "הוסף"

**בדוק:**
- [ ] Modal נפתח
- [ ] כל השדות עובדים
- [ ] העלאת תמונה עובדת (Cloudinary)
- [ ] תצוגה מקדימה של תמונה
- [ ] ולידציה: שם ומחיר חובה
- [ ] ולידציה: מחיר > 0
- [ ] המוצר מופיע ב-Grid

---

#### 6.3 - עריכת מוצר ✅
**צעדים:**
1. לחץ "ערוך" על מוצר
2. שנה מחיר
3. לחץ "עדכן"

**בדוק:**
- [ ] Modal נפתח עם נתונים קיימים
- [ ] תמונה קיימת מוצגת
- [ ] עדכון מצליח
- [ ] השינוי מתעדכן ב-Grid

---

#### 6.4 - מחיקת מוצר ✅
**צעדים:**
1. לחץ "מחק" על מוצר
2. אשר במודאל

**בדוק:**
- [ ] חלון אישור מופיע
- [ ] אם מאשר: המוצר נמחק
- [ ] אם מבטל: שום דבר לא קורה

---

### 7. Orders Screen (/admin/orders)

#### 7.1 - רשימת הזמנות ✅
**בדוק:**
- [ ] טבלה מוצגת
- [ ] עמודות: מזהה, לקוח, סכום, סטטוס, תאריך, פעולות

---

#### 7.2 - עדכון סטטוס ✅
**צעדים:**
1. בחר הזמנה
2. שנה סטטוס ב-dropdown
3. המתן לעדכון

**בדוק:**
- [ ] Dropdown עובד
- [ ] עדכון מתבצע מיידית
- [ ] Badge הסטטוס משתנה

---

#### 7.3 - פילטרים ✅
**צעדים:**
1. בחר סטטוס בפילטר
2. הזן טקסט בחיפוש

**בדוק:**
- [ ] פילטר לפי סטטוס עובד
- [ ] חיפוש לפי מזהה/אימייל/טלפון עובד
- [ ] "לא נמצאו הזמנות" מוצג אם אין תוצאות

---

### 8. Settings Screen (/admin/settings)

#### 8.1 - טעינת הגדרות ✅
**בדוק:**
- [ ] טופס נטען
- [ ] הגדרות קיימות מוצגות (אם יש)

---

#### 8.2 - העלאת לוגו ✅
**צעדים:**
1. העלה תמונת לוגו
2. לחץ "שמור הגדרות"

**בדוק:**
- [ ] העלאה עובדת
- [ ] תצוגה מקדימה מוצגת
- [ ] שמירה מצליחה
- [ ] רענון דף מציג את הלוגו

---

#### 8.3 - שינוי צבע ✅
**צעדים:**
1. בחר צבע חדש
2. לחץ "שמור הגדרות"

**בדוק:**
- [ ] Color picker עובד
- [ ] Input טקסט עובד (HEX)
- [ ] תצוגה מקדימה משתנה
- [ ] שמירה מצליחה

---

#### 8.4 - שינוי שם אתר ✅
**צעדים:**
1. שנה שם אתר
2. לחץ "שמור הגדרות"

**בדוק:**
- [ ] Input עובד
- [ ] תצוגה מקדימה משתנה
- [ ] שמירה מצליחה

---

## 🐛 Error Handling

### בדיקות שגיאות:
- [ ] נתק אינטרנט → הודעת שגיאה ברורה
- [ ] שרת לא זמין → הודעת שגיאה
- [ ] טופס לא תקין → הודעות ולידציה
- [ ] אין הרשאות → redirect ל-login

---

## 📱 Responsive Design

### בדוק בגדלי מסך שונים:
- [ ] Desktop (1920x1080)
- [ ] Laptop (1366x768)
- [ ] Tablet (768x1024)
- [ ] Mobile (375x667)

**בדוק:**
- [ ] Sidebar מתכווץ/נעלם במובייל
- [ ] טבלאות רספונסיביות
- [ ] Modals מתאימים למסך
- [ ] כפתורים נגישים

---

## 🎨 UI/UX

### בדיקות כלליות:
- [ ] כל הטקסטים בעברית
- [ ] RTL עובד בכל מקום
- [ ] צבעים עקביים
- [ ] Hover effects עובדים
- [ ] Loading states מוצגים
- [ ] הודעות הצלחה/שגיאה ברורות

---

## ⚡ Performance

### בדיקות ביצועים:
- [ ] Dashboard נטען < 2 שניות
- [ ] טבלאות נטענות מהר
- [ ] אין lag בעת גלילה
- [ ] העלאת תמונות חלקה

---

## 🔍 Console Checks

### פתח DevTools Console:
- [ ] אין שגיאות אדומות
- [ ] אין אזהרות צהובות חשובות
- [ ] Network requests מצליחים (200/201)

---

## ✅ Final Checklist

### חובה לעבור:
- [x] כל נתיבי Admin נטענים
- [x] הגנת הרשאות עובדת
- [x] Sidebar ניווט עובד
- [x] Dashboard KPIs מוצגים
- [x] Agents CRUD עובד
- [x] Users role management עובד
- [x] Products CRUD עובד
- [x] Orders status update עובד
- [x] Settings save/load עובד
- [x] אין שגיאות בקונסול

---

## 📝 Test Results

**תאריך בדיקה:** _______________  
**נבדק על ידי:** _______________  
**דפדפן:** _______________  
**סטטוס:** [ ] PASS / [ ] FAIL  

**בעיות שנמצאו:**
1. _______________
2. _______________
3. _______________

**הערות:**
_______________
_______________

---

## 🎉 Stage 10 Complete!

אם כל הבדיקות עברו - **Stage 10 מוכן ל-Production!** 🚀
