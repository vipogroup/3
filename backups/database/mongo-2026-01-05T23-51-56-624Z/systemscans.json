[
  {
    "_id": {
      "$oid": "695a69ae024a6664dab35ad4"
    },
    "scanId": "SCAN-MJZRHVHA-R2I1U7",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 18,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T13:22:54.238Z"
    },
    "results": {
      "totalChecks": 39,
      "passed": 24,
      "failed": 0,
      "warnings": 11,
      "score": 62
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 170
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 10,
        "passed": 3,
        "failed": 0,
        "warnings": 7,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "not_set"
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "not_set"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "not_set"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "not_set"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "not_set"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "not_set"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "not_set"
          }
        ]
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695a69ae024a6664dab35ad6"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T13:22:54.487Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69ae024a6664dab35ad7"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T13:22:54.488Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69ae024a6664dab35ad8"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T13:22:54.490Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69ae024a6664dab35ad9"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T13:22:54.501Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69ae024a6664dab35ada"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T13:22:54.502Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69ae024a6664dab35adb"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T13:22:54.504Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69ae024a6664dab35adc"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T13:22:54.505Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69ae024a6664dab35add"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T13:22:54.507Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T13:22:54.238Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T13:22:54.507Z"
    },
    "completedAt": {
      "$date": "2026-01-04T13:22:54.507Z"
    },
    "duration": 269
  },
  {
    "_id": {
      "$oid": "695a69bc024a6664dab35adf"
    },
    "scanId": "SCAN-MJZRI6S6-Y2QUR4",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 18,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T13:23:08.886Z"
    },
    "results": {
      "totalChecks": 39,
      "passed": 24,
      "failed": 0,
      "warnings": 11,
      "score": 62
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 181
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 10,
        "passed": 3,
        "failed": 0,
        "warnings": 7,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "not_set"
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "not_set"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "not_set"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "not_set"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "not_set"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "not_set"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "not_set"
          }
        ]
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695a69bc024a6664dab35ae1"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T13:23:08.938Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69bc024a6664dab35ae2"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T13:23:08.939Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69bc024a6664dab35ae3"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T13:23:08.940Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69bc024a6664dab35ae4"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T13:23:08.942Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69bc024a6664dab35ae5"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T13:23:08.943Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69bc024a6664dab35ae6"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T13:23:08.943Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69bc024a6664dab35ae7"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T13:23:08.944Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a69bc024a6664dab35ae8"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T13:23:08.945Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T13:23:08.886Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T13:23:08.945Z"
    },
    "completedAt": {
      "$date": "2026-01-04T13:23:08.945Z"
    },
    "duration": 59
  },
  {
    "_id": {
      "$oid": "695a6ae0024a6664dab35af5"
    },
    "scanId": "SCAN-MJZROFU0-Q53N4U",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 18,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T13:28:00.552Z"
    },
    "results": {
      "totalChecks": 41,
      "passed": 25,
      "failed": 0,
      "warnings": 12,
      "score": 61
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 192
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 12,
        "passed": 4,
        "failed": 0,
        "warnings": 8,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 10,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 10,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 5,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 5
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 5,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 5
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 3,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 3
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 3,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 3
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "low",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 3,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 9,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 9,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 6,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 5,
            "percentageGain": 8,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 5,
            "percentageGain": 8,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 3,
            "percentageGain": 5,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 3,
            "percentageGain": 5,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 3,
            "category": "config",
            "priority": "low",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 48,
          "potential": 100,
          "earnedWeight": 31,
          "totalWeight": 65,
          "missingWeight": 34
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695a6ae0024a6664dab35af7"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T13:28:00.627Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a6ae0024a6664dab35af8"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T13:28:00.628Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a6ae0024a6664dab35af9"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T13:28:00.629Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a6ae0024a6664dab35afa"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T13:28:00.634Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a6ae0024a6664dab35afb"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T13:28:00.635Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a6ae0024a6664dab35afc"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T13:28:00.636Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a6ae0024a6664dab35afd"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T13:28:00.637Z"
        }
      },
      {
        "reportId": {
          "$oid": "695a6ae0024a6664dab35afe"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T13:28:00.639Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T13:28:00.552Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T13:28:00.639Z"
    },
    "completedAt": {
      "$date": "2026-01-04T13:28:00.639Z"
    },
    "duration": 87
  },
  {
    "_id": {
      "$oid": "695ab5a1024a6664dab35c7b"
    },
    "scanId": "SCAN-MK032M56-09HICM",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T18:46:57.690Z"
    },
    "results": {
      "totalChecks": 41,
      "passed": 25,
      "failed": 0,
      "warnings": 12,
      "score": 61
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 226
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 12,
        "passed": 4,
        "failed": 0,
        "warnings": 8,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 10,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 10,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 5,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 5
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 5,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 5
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 3,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 3
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 3,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 3
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "low",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 3,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 9,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 9,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 6,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 5,
            "percentageGain": 8,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 5,
            "percentageGain": 8,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 3,
            "percentageGain": 5,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 3,
            "percentageGain": 5,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 3,
            "category": "config",
            "priority": "low",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 48,
          "potential": 100,
          "earnedWeight": 31,
          "totalWeight": 65,
          "missingWeight": 34
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c7d"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.836Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c7e"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.837Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c7f"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.838Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c80"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.845Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c81"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.846Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c82"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.847Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c83"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.848Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c84"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.850Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c85"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.857Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c86"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.863Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c87"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.865Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c88"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.868Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5a1024a6664dab35c89"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:46:57.872Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T18:46:57.690Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T18:46:57.872Z"
    },
    "completedAt": {
      "$date": "2026-01-04T18:46:57.872Z"
    },
    "duration": 182
  },
  {
    "_id": {
      "$oid": "695ab5be024a6664dab35c8c"
    },
    "scanId": "SCAN-MK03386R-WO9D5R",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T18:47:26.259Z"
    },
    "results": {
      "totalChecks": 41,
      "passed": 25,
      "failed": 0,
      "warnings": 12,
      "score": 61
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 242
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 12,
        "passed": 4,
        "failed": 0,
        "warnings": 8,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 10,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 10,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 5,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 5
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 5,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 5
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 3,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 3
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 3,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 3
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "low",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 3,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 9,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 9,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 6,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 5,
            "percentageGain": 8,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 5,
            "percentageGain": 8,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 3,
            "percentageGain": 5,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 3,
            "percentageGain": 5,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 3,
            "category": "config",
            "priority": "low",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 48,
          "potential": 100,
          "earnedWeight": 31,
          "totalWeight": 65,
          "missingWeight": 34
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c8e"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.357Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c8f"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.358Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c90"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.359Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c91"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.366Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c92"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.368Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c93"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.370Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c94"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.371Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c95"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.373Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c96"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.378Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c97"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.406Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c98"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.411Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c99"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.415Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab5be024a6664dab35c9a"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:47:26.417Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T18:47:26.259Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T18:47:26.417Z"
    },
    "completedAt": {
      "$date": "2026-01-04T18:47:26.417Z"
    },
    "duration": 158
  },
  {
    "_id": {
      "$oid": "695ab743024a6664dab35ca8"
    },
    "scanId": "SCAN-MK03BKVP-HKLXNW",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T18:53:55.956Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 258
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35caa"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.095Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cab"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.096Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cac"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.098Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cad"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.105Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cae"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.106Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35caf"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.108Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cb0"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.109Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cb1"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.111Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cb2"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.115Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cb3"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.123Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cb4"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.125Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cb5"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.127Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab744024a6664dab35cb6"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:53:56.130Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T18:53:55.956Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T18:53:56.130Z"
    },
    "completedAt": {
      "$date": "2026-01-04T18:53:56.130Z"
    },
    "duration": 174
  },
  {
    "_id": {
      "$oid": "695ab848024a6664dab35cc1"
    },
    "scanId": "SCAN-MK03H5P3-HX8JOZ",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T18:58:16.215Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 274
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cc3"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.301Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cc4"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.302Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cc5"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.303Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cc6"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.308Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cc7"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.310Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cc8"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.311Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cc9"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.312Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cca"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.313Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35ccb"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.315Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35ccc"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.321Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35ccd"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.323Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35cce"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.325Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab848024a6664dab35ccf"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T18:58:16.329Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T18:58:16.215Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T18:58:16.329Z"
    },
    "completedAt": {
      "$date": "2026-01-04T18:58:16.329Z"
    },
    "duration": 114
  },
  {
    "_id": {
      "$oid": "695ab90e024a6664dab35cd8"
    },
    "scanId": "SCAN-MK03LEZW-RWGVMT",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:01:34.892Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 291
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35cda"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.947Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35cdb"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.948Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35cdc"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.949Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35cdd"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.953Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35cde"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.955Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35cdf"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.956Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35ce0"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.958Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35ce1"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.959Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35ce2"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.961Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35ce3"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.966Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35ce4"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.969Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35ce5"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.971Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab90e024a6664dab35ce6"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:34.973Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:01:34.892Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:01:34.973Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:01:34.973Z"
    },
    "duration": 81
  },
  {
    "_id": {
      "$oid": "695ab915024a6664dab35ce8"
    },
    "scanId": "SCAN-MK03LK2G-7XYXY1",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:01:41.464Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 307
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cea"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.514Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35ceb"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.514Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cec"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.515Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35ced"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.517Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cee"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.518Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cef"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.518Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cf0"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.519Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cf1"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.520Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cf2"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.521Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cf3"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.525Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cf4"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.530Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cf5"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.532Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab915024a6664dab35cf6"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:01:41.533Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:01:41.464Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:01:41.533Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:01:41.533Z"
    },
    "duration": 69
  },
  {
    "_id": {
      "$oid": "695ab99a024a6664dab35cfd"
    },
    "scanId": "SCAN-MK03OEIG-4X3JYS",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:03:54.232Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 323
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35cff"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.342Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d00"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.343Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d01"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.344Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d02"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.355Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d03"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.356Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d04"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.357Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d05"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.359Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d06"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.361Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d07"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.365Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d08"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.380Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d09"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.382Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d0a"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.385Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab99a024a6664dab35d0b"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:03:54.388Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:03:54.232Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:03:54.388Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:03:54.388Z"
    },
    "duration": 156
  },
  {
    "_id": {
      "$oid": "695ab9ae024a6664dab35d0e"
    },
    "scanId": "SCAN-MK03OUJ6-7CL4PN",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:04:14.994Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 339
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d10"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.046Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d11"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.046Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d12"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.047Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d13"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.051Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d14"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.052Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d15"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.053Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d16"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.054Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d17"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.055Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d18"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.057Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d19"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.062Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d1a"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.064Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d1b"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.064Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9af024a6664dab35d1c"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:15.066Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:04:14.994Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:04:15.066Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:04:15.066Z"
    },
    "duration": 72
  },
  {
    "_id": {
      "$oid": "695ab9c6024a6664dab35d1e"
    },
    "scanId": "SCAN-MK03PCWV-F0OEXZ",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:04:38.815Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 355
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d20"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.861Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d21"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.862Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d22"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.863Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d23"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.865Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d24"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.866Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d25"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.867Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d26"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.867Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d27"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.868Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d28"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.869Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d29"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.872Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d2a"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.873Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d2b"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.874Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9c6024a6664dab35d2c"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:38.875Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:04:38.815Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:04:38.875Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:04:38.875Z"
    },
    "duration": 60
  },
  {
    "_id": {
      "$oid": "695ab9d1024a6664dab35d2f"
    },
    "scanId": "SCAN-MK03PKT1-0A1G77",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:04:49.045Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 371
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d31"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.094Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d32"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.094Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d33"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.095Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d34"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.097Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d35"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.098Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d36"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.099Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d37"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.099Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d38"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.100Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d39"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.101Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d3a"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.105Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d3b"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.107Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d3c"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.108Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d1024a6664dab35d3d"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:49.110Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:04:49.045Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:04:49.110Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:04:49.110Z"
    },
    "duration": 65
  },
  {
    "_id": {
      "$oid": "695ab9d4024a6664dab35d3f"
    },
    "scanId": "SCAN-MK03PNIQ-9CGKC8",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:04:52.562Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 387
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d41"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.601Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d42"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.601Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d43"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.602Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d44"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.603Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d45"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.604Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d46"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.605Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d47"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.605Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d48"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.606Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d49"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.607Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d4a"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.610Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d4b"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.611Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d4c"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.612Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d4024a6664dab35d4d"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:52.613Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:04:52.562Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:04:52.613Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:04:52.613Z"
    },
    "duration": 51
  },
  {
    "_id": {
      "$oid": "695ab9d5024a6664dab35d4f"
    },
    "scanId": "SCAN-MK03POH1-NE7ANS",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:04:53.797Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 403
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d51"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.843Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d52"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.844Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d53"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.844Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d54"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.847Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d55"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.847Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d56"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.848Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d57"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.849Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d58"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.849Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d59"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.850Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d5a"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.854Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d5b"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.855Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d5c"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.857Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d5024a6664dab35d5d"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:53.858Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:04:53.797Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:04:53.858Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:04:53.858Z"
    },
    "duration": 61
  },
  {
    "_id": {
      "$oid": "695ab9d5024a6664dab35d5f"
    },
    "scanId": "SCAN-MK03POM1-4TH9NV",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:04:53.977Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 419
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d61"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.028Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d62"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.029Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d63"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.030Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d64"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.032Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d65"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.033Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d66"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.034Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d67"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.034Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d68"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.035Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d69"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.036Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d6a"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.040Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d6b"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.041Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d6c"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.042Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d6d"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.042Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:04:53.977Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:04:54.042Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:04:54.042Z"
    },
    "duration": 65
  },
  {
    "_id": {
      "$oid": "695ab9d6024a6664dab35d6f"
    },
    "scanId": "SCAN-MK03POR6-D1MCEI",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:04:54.162Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 435
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d71"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.208Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d72"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.209Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d73"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.210Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d74"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.212Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d75"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.213Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d76"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.213Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d77"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.214Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d78"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.215Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d79"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.216Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d7a"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.220Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d7b"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.221Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d7c"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.222Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d7d"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.223Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:04:54.162Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:04:54.223Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:04:54.223Z"
    },
    "duration": 61
  },
  {
    "_id": {
      "$oid": "695ab9d6024a6664dab35d7f"
    },
    "scanId": "SCAN-MK03POWB-3FA3I7",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T19:04:54.347Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 451
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d81"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.392Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d82"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.393Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d83"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.394Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d84"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.395Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d85"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.396Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d86"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.397Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d87"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.397Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d88"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.398Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d89"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.399Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d8a"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.402Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d8b"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.403Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d8c"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.404Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ab9d6024a6664dab35d8d"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T19:04:54.405Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T19:04:54.347Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T19:04:54.405Z"
    },
    "completedAt": {
      "$date": "2026-01-04T19:04:54.405Z"
    },
    "duration": 58
  },
  {
    "_id": {
      "$oid": "695ac77488da9b1e262a3065"
    },
    "scanId": "SCAN-MK05SERL-XVDN8F",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T20:03:00.417Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 19,
              "objects": 471
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a3067"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.631Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a3068"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.632Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a3069"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.633Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a306a"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.651Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a306b"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.652Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a306c"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.653Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a306d"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.654Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a306e"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.656Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a306f"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.657Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a3070"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.662Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a3071"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.664Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a3072"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.666Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ac77488da9b1e262a3073"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:03:00.668Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T20:03:00.417Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T20:03:00.668Z"
    },
    "completedAt": {
      "$date": "2026-01-04T20:03:00.668Z"
    },
    "duration": 251
  },
  {
    "_id": {
      "$oid": "695ad27c88da9b1e262a310b"
    },
    "scanId": "SCAN-MK07GY4R-GO8EKE",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T20:50:04.875Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 20,
              "objects": 488
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a310d"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.038Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a310e"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.039Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a310f"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.040Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3110"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.115Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3111"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.149Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3112"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.151Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3113"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.153Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3114"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.156Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3115"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.168Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3116"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.215Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3117"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.242Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3118"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.287Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad27d88da9b1e262a3119"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:50:05.293Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T20:50:04.875Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T20:50:05.293Z"
    },
    "completedAt": {
      "$date": "2026-01-04T20:50:05.293Z"
    },
    "duration": 418
  },
  {
    "_id": {
      "$oid": "695ad42f88da9b1e262a3129"
    },
    "scanId": "SCAN-MK07Q9PF-VBO2YA",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T20:57:19.779Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 20,
              "objects": 504
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a312b"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.933Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a312c"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.935Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a312d"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.936Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a312e"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.948Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a312f"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.949Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a3130"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.950Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a3131"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.951Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a3132"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.953Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a3133"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.955Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a3134"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.963Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a3135"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.965Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a3136"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.968Z"
        }
      },
      {
        "reportId": {
          "$oid": "695ad42f88da9b1e262a3137"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T20:57:19.970Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T20:57:19.779Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T20:57:19.970Z"
    },
    "completedAt": {
      "$date": "2026-01-04T20:57:19.970Z"
    },
    "duration": 191
  },
  {
    "_id": {
      "$oid": "695af3fe01977f99e9e21894"
    },
    "scanId": "SCAN-MK0CKSQB-TRK0NR",
    "initiatedBy": {
      "$oid": "692deea497ce1a2ba6d4e151"
    },
    "initiatedByName": "Admin",
    "scope": "full",
    "scannedAreas": [
      "database",
      "users",
      "orders",
      "products",
      "transactions",
      "permissions",
      "integrations",
      "security",
      "payment_data",
      "system_keys"
    ],
    "status": "completed",
    "progress": {
      "current": 23,
      "total": 18,
      "percentage": 100
    },
    "startedAt": {
      "$date": "2026-01-04T23:13:02.579Z"
    },
    "results": {
      "totalChecks": 57,
      "passed": 29,
      "failed": 0,
      "warnings": 24,
      "score": 51
    },
    "findings": {
      "database": {
        "checks": 5,
        "passed": 5,
        "failed": 0,
        "warnings": 0,
        "details": [
          {
            "check": "Collection users",
            "status": "ok"
          },
          {
            "check": "Collection orders",
            "status": "ok"
          },
          {
            "check": "Collection products",
            "status": "ok"
          },
          {
            "check": "DB Stats",
            "status": "ok",
            "data": {
              "collections": 22,
              "objects": 536
            }
          },
          {
            "check": "User indexes",
            "count": 13
          }
        ]
      },
      "users": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 0,
        "details": {
          "totalUsers": 25,
          "admins": 2,
          "agents": 20,
          "customers": 3,
          "noRole": 0
        }
      },
      "orders": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": {
          "total": 34,
          "paid": 15,
          "pending": 19,
          "completed": 0,
          "cancelled": 0,
          "orphaned": 34
        }
      },
      "products": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 26,
          "active": 0,
          "outOfStock": 0,
          "noPrice": 0
        }
      },
      "transactions": {
        "checks": 2,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "total": 0,
          "completed": 0,
          "pending": 0,
          "failed": 0
        }
      },
      "permissions": {
        "checks": 2,
        "passed": 1,
        "failed": 0,
        "warnings": 0,
        "details": {
          "adminCount": 2,
          "admins": [
            {
              "name": "מנהל 02",
              "hasPermissions": false
            },
            {
              "name": "Admin",
              "hasPermissions": false
            }
          ]
        }
      },
      "integrations": {
        "checks": 2,
        "passed": 0,
        "failed": 0,
        "warnings": 2,
        "details": {
          "priority": {
            "configured": false,
            "status": "not_configured"
          },
          "payplus": {
            "configured": false,
            "status": "not_configured"
          }
        }
      },
      "security": {
        "checks": 4,
        "passed": 3,
        "failed": 0,
        "warnings": 1,
        "details": [
          {
            "var": "JWT_SECRET",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "MONGODB_URI",
            "status": "set",
            "strength": "weak"
          },
          {
            "var": "NEXTAUTH_SECRET",
            "status": "set",
            "strength": "strong"
          },
          {
            "var": "NODE_ENV",
            "status": "development"
          }
        ]
      },
      "payment_data": {
        "checks": 3,
        "passed": 2,
        "failed": 0,
        "warnings": 0,
        "details": {
          "ordersWithPayment": 33,
          "paymentEvents": 0,
          "failedPayments": 0
        }
      },
      "system_keys": {
        "checks": 28,
        "passed": 8,
        "failed": 0,
        "warnings": 20,
        "details": [
          {
            "key": "JWT_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח הצפנת JWT לאימות משתמשים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXTAUTH_SECRET",
            "status": "configured",
            "weight": 8,
            "category": "security",
            "priority": "critical",
            "description": "מפתח NextAuth לאבטחת סשנים",
            "potentialGain": 0,
            "strength": "strong"
          },
          {
            "key": "MONGODB_URI",
            "status": "configured",
            "weight": 8,
            "category": "database",
            "priority": "critical",
            "description": "כתובת חיבור למסד הנתונים",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "PAYPLUS_API_KEY",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_SECRET",
            "status": "missing",
            "weight": 6,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות",
            "potentialGain": 6
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)",
            "potentialGain": 4
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "status": "missing",
            "weight": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום",
            "potentialGain": 2
          },
          {
            "key": "PRIORITY_BASE_URL",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "status": "missing",
            "weight": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP",
            "potentialGain": 4
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "status": "missing",
            "weight": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority",
            "potentialGain": 3
          },
          {
            "key": "PRIORITY_ENV",
            "status": "missing",
            "weight": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)",
            "potentialGain": 2
          },
          {
            "key": "CLOUDINARY_CLOUD_NAME",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "שם ענן Cloudinary להעלאת תמונות",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_KEY",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "מפתח API של Cloudinary",
            "potentialGain": 0,
            "strength": "weak"
          },
          {
            "key": "CLOUDINARY_API_SECRET",
            "status": "configured",
            "weight": 3,
            "category": "media",
            "priority": "medium",
            "description": "סוד Cloudinary",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות",
            "potentialGain": 2
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "status": "missing",
            "weight": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "status": "missing",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP",
            "potentialGain": 1
          },
          {
            "key": "EMAIL_SERVER_USER",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "status": "missing",
            "weight": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP",
            "potentialGain": 2
          },
          {
            "key": "EMAIL_FROM",
            "status": "configured",
            "weight": 1,
            "category": "email",
            "priority": "low",
            "description": "כתובת מייל שולח",
            "potentialGain": 0,
            "strength": "medium"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications",
            "potentialGain": 1
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "status": "missing",
            "weight": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי",
            "potentialGain": 1
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "status": "missing",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר",
            "potentialGain": 2
          },
          {
            "key": "NODE_ENV",
            "status": "configured",
            "weight": 2,
            "category": "config",
            "priority": "medium",
            "description": "סביבת ריצה (production/development)",
            "potentialGain": 0,
            "strength": "weak"
          }
        ],
        "missingVars": [
          {
            "key": "PAYPLUS_API_KEY",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "מפתח API של PayPlus לתשלומים"
          },
          {
            "key": "PAYPLUS_SECRET",
            "weight": 6,
            "percentageGain": 7,
            "category": "payments",
            "priority": "high",
            "description": "סוד PayPlus לאימות בקשות"
          },
          {
            "key": "PAYPLUS_WEBHOOK_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "medium",
            "description": "מפתח וובהוק PayPlus לעדכוני תשלום"
          },
          {
            "key": "PAYPLUS_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "payments",
            "priority": "high",
            "description": "כתובת שרת PayPlus (sandbox/production)"
          },
          {
            "key": "PAYPLUS_CALLBACK_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "payments",
            "priority": "medium",
            "description": "כתובת callback לאחר תשלום"
          },
          {
            "key": "PRIORITY_BASE_URL",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "כתובת שרת Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_ID",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "מזהה לקוח Priority ERP"
          },
          {
            "key": "PRIORITY_CLIENT_SECRET",
            "weight": 4,
            "percentageGain": 4,
            "category": "integrations",
            "priority": "high",
            "description": "סוד Priority ERP"
          },
          {
            "key": "PRIORITY_COMPANY_CODE",
            "weight": 3,
            "percentageGain": 3,
            "category": "integrations",
            "priority": "high",
            "description": "קוד חברה ב-Priority"
          },
          {
            "key": "PRIORITY_ENV",
            "weight": 2,
            "percentageGain": 2,
            "category": "integrations",
            "priority": "medium",
            "description": "סביבת Priority (sandbox/production)"
          },
          {
            "key": "TWILIO_ACCOUNT_SID",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מזהה חשבון Twilio ל-SMS"
          },
          {
            "key": "TWILIO_AUTH_TOKEN",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "טוקן Twilio לאימות"
          },
          {
            "key": "TWILIO_PHONE_NUMBER",
            "weight": 2,
            "percentageGain": 2,
            "category": "communications",
            "priority": "medium",
            "description": "מספר טלפון Twilio לשליחת SMS"
          },
          {
            "key": "EMAIL_SERVER_HOST",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שרת SMTP לשליחת מיילים"
          },
          {
            "key": "EMAIL_SERVER_PORT",
            "weight": 1,
            "percentageGain": 1,
            "category": "email",
            "priority": "low",
            "description": "פורט שרת SMTP"
          },
          {
            "key": "EMAIL_SERVER_USER",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "שם משתמש SMTP"
          },
          {
            "key": "EMAIL_SERVER_PASSWORD",
            "weight": 2,
            "percentageGain": 2,
            "category": "email",
            "priority": "medium",
            "description": "סיסמת SMTP"
          },
          {
            "key": "NEXT_PUBLIC_VAPID_PUBLIC_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID ציבורי לPush notifications"
          },
          {
            "key": "VAPID_PRIVATE_KEY",
            "weight": 1,
            "percentageGain": 1,
            "category": "notifications",
            "priority": "low",
            "description": "מפתח VAPID פרטי"
          },
          {
            "key": "NEXT_PUBLIC_SITE_URL",
            "weight": 2,
            "percentageGain": 2,
            "category": "config",
            "priority": "medium",
            "description": "כתובת URL של האתר"
          }
        ],
        "scoreBreakdown": {
          "current": 39,
          "potential": 100,
          "earnedWeight": 36,
          "totalWeight": 92,
          "missingWeight": 56
        }
      }
    },
    "generatedReports": [
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e21896"
        },
        "reportType": "financial_payments",
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.760Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e21897"
        },
        "reportType": "orders_transactions",
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.762Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e21898"
        },
        "reportType": "users_permissions",
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.763Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e21899"
        },
        "reportType": "admin_audit_trail",
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.825Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e2189a"
        },
        "reportType": "integrations_webhooks",
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.838Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e2189b"
        },
        "reportType": "data_integrity",
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.840Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e2189c"
        },
        "reportType": "security_access",
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.843Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e2189d"
        },
        "reportType": "system_health",
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.845Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e2189e"
        },
        "reportType": "go_live_readiness",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.849Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e2189f"
        },
        "reportType": "financial_reconciliation",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.864Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e218a0"
        },
        "reportType": "missing_keys_impact",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.869Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e218a1"
        },
        "reportType": "risk_matrix",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.872Z"
        }
      },
      {
        "reportId": {
          "$oid": "695af3fe01977f99e9e218a2"
        },
        "reportType": "reports_reliability",
        "isEnterprise": true,
        "generatedAt": {
          "$date": "2026-01-04T23:13:02.890Z"
        }
      }
    ],
    "version": "2.0",
    "environment": "development",
    "createdAt": {
      "$date": "2026-01-04T23:13:02.579Z"
    },
    "updatedAt": {
      "$date": "2026-01-04T23:13:02.890Z"
    },
    "completedAt": {
      "$date": "2026-01-04T23:13:02.890Z"
    },
    "duration": 311
  }
]